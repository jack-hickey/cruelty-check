export async function onRequest(t){if("POST"!==t.request.method)return new Response("Method Not Allowed",{status:405});const e=await t.request.formData(),s=e.get("type"),n=e.get("title"),o=e.get("description");if(!n||!o||!s)return new Response("All fields are required",{status:400});const i=`**Type:** ${s}\n**Description:**\n${o}`,r=await fetch(`https://api.github.com/repos/${t.env.GITHUB_REPO}/issues`,{method:"POST",headers:{Authorization:`token ${t.env.GITHUB_TOKEN}`,Accept:"application/vnd.github+json"},body:JSON.stringify({title:n,body:i})});if(!r.ok){const t=await r.text();return new Response(`GitHub API error: ${t}`,{status:r.status})}return new Response("Your issue has been submitted to GitHub!",{status:200})}