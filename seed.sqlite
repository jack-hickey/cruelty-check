PRAGMA defer_foreign_keys=TRUE;
CREATE TABLE Brands (
  ID INTEGER PRIMARY KEY AUTOINCREMENT,
  Name TEXT NOT NULL UNIQUE CHECK(length(Name) <= 50),
  Parent_ID INTEGER,
  Cruelty_Free INTEGER NOT NULL DEFAULT 0,
  B_Corp INTEGER NOT NULL DEFAULT 0,
  Fair_Trade INTEGER NOT NULL DEFAULT 0,
  Animal_Testing INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (Parent_ID) REFERENCES Brands(ID)
);
CREATE TABLE Products (
    ID INTEGER PRIMARY KEY AUTOINCREMENT,
    Name TEXT NOT NULL CHECK(length(Name) <= 100),
    Image TEXT NOT NULL CHECK(length(Image) <= 50),
    Brand_ID INTEGER NOT NULL,
    Is_Vegan INTEGER NOT NULL DEFAULT 0,
    Accepted INTEGER NOT NULL DEFAULT 0,
    FOREIGN KEY (Brand_ID) REFERENCES Brands(ID)
);
DELETE FROM sqlite_sequence;
